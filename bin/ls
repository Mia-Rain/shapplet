#!/bin/sh
# shellcheck disable=SC2015,SC2005
loop(){
  echo "$(for i in $1; do # this echo is not useless; required for redirects to contain all data
    IFS=
    printf "%s\\n" "$i"
  done)"
}
case "$#" in
  0)
    loop "./.* ./*";;
  *)
    for i in "$@"; do
      [ -e "$i" ] && {
        [ -f "$i" ] && { loop "$i"; } || { [ -d "$i" ] && { loop "${i%/}/.* ${i%/}/*"; }; }
      } || { echo "$i could not be found.."; exit 1; }
    done
  ;;
esac
