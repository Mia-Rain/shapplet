#!/bin/sh
LANG=C
print() { 
  printf "%s\\n" "$(while read -r p || [ -n "$p" ] ; do
    IFS=""; printf "%s\\n" "$p"

    # no newline term bug
    # see https://stackoverflow.com/a/12916758

    # read will fail if the line does not have a newline term5
    # this will stop the loop before the data is read
    # preventing it from being outputed
    # this is exetremely unlikely to happen
    # unless reading, from a STDIN without EOF
    # or xclip

  done <&0)"
}
case "$#" in
  0)
    print;;
  *)
    for i in "$@"; do
      if [ -e "$i" ]; then
        print < "$i"
      else
        echo "$i is not a file or missing"; exit 1
      fi # if is better here since print() could fail for some reason
    done
  ;;
esac
